#pragma once

#include "exchange_basic.h"
#include "g_terminal.h"

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

struct _delta_number
{
	int old_number;
	int new_number;
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

struct _delta_offers
{
	std::vector<_delta_number> delta_number;
	i64 start_price;
	i64 delta_price;

	_delta_offers(const _offers& a, const _offers& b);
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

struct _delta_supply_and_demand // изменение предложения и спроса
{
	_delta_offers delta_demand; // желающие купить
	_delta_offers delta_supply; // желающие продать

	_delta_supply_and_demand(const _supply_and_demand& a, const _supply_and_demand& b);
};

_delta_supply_and_demand operator-(const _supply_and_demand& a, const _supply_and_demand& b);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void exchange_fun1(_g_terminal* t);
void exchange_fun2(_g_terminal* t);

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
